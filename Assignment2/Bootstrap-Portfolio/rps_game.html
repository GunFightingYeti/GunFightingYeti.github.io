<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors Part 6</title>
</head>

<body style="background-color: #bada55">

  <div id="game">
      <div>
        <h1>Rock, Paper, Scissors</h1>
        <h2>Press R, P or S to start playing</h2>
        <hr>
      </div>
  </div>

  <script type="text/javascript">
    // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
    var computerChoices = ["r", "p", "s"];

    // Creating variables to hold the number of wins, losses, and ties. They start at 0.
    var wins = 0;
    var losses = 0;
    var ties = 0;

    // This function is run whenever the user presses a key.
    document.onkeyup = function(event) {

      // Determines which key was pressed.
      var userGuess = event.key;

      // Randomly chooses a choice from the options array. This is the Computer's guess.
      var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];

      // Only run the following code block if the user presses "r" or "p" or "s".
      if ((userGuess === "r") || (userGuess === "p") || (userGuess === "s")) {

        // If we choose rock and the computer guesses scissors, increment our wins variable.
        if ((userGuess === "r") && (computerGuess === "s")) {
          wins++;
        }

        // If we choose rock and the computer guesses paper, increment our losses variable.
        if ((userGuess === "r") && (computerGuess === "p")) {
          losses++;
        }

        // If we choose scissors and the computer guesses rock, increment our losses variable.
        if ((userGuess === "s") && (computerGuess === "r")) {
          losses++;
        }

        // If we choose scissors and the computer guesses paper, increment our wins variable.
        if ((userGuess === "s") && (computerGuess === "p")) {
          wins++;
        }

        // If we choose paper and the computer guesses rock, increment our wins variable.
        if ((userGuess === "p") && (computerGuess === "r")) {
          wins++;
        }

        // If we choose paper and the computer guesses scissors, increment our losses variable.
        if ((userGuess === "p") && (computerGuess === "s")) {
          losses++;
        }

        // If we choose the same thing as the computer, increment our ties variable.
        if (userGuess === computerGuess) {
          ties++;
        }

        if (wins === 5) {
            alert("You Win! :) ");
            window.location.reload();
        }
        if (losses === 5) {
            alert("You lose. :( ");
            window.location.reload();
        }

        // Creating a variable to hold our new HTML. Our HTML now keeps track of the user and computer guesses, and wins/losses/ties.
        var html =
          "<h1>Rock, Paper, Scissors</h1>" +
          "<h2>Press R, P or S</h2>" +
          "<hr>" +
          "<h3>You chose: " + userGuess.toUpperCase() + "</h3>" +
          "<h3>The computer chose: " + computerGuess.toUpperCase() + "</h3>" +
          "<h3>wins: " + wins + "</h3>" +
          "<h3>losses: " + losses + "</h3>" +
          "<h3>ties: " + ties + "</h3>";

        // Set the inner HTML contents of the #game div to our html string
        document.querySelector("#game").innerHTML = html;
      }
      else {
            alert("Wrong key. Don't think outside the box!");
          }
    };
  </script>

</body>

</html>